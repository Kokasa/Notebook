2024-12-17    08:37

status: #adult 
tags: [[database design]]


# 分库分表

## 什么是分库分表

将数据拆分到多个数据库, 多个表中
就像是京东在全国各地设置地区仓库, 不同地区能使用不同仓库

不需要派很多人去整理唯一一个巨大的冗杂仓库, 而是每个人只要检索自己的小仓库就可以

建立分仓也是提高存储容量的办法
## 为了解决什么问题

- 高并发场景下, 单一数据库很容易达到性能瓶颈
- 系统规模逐渐, 原数据库维护困难
- 灾难容错, 确保单个数据库故障不会影响到整个系统服务(就像篮子里的鸡蛋)
- 分布式数据存储, 网络还是有边界()的

## 带来什么问题

- 维护困难, 我需要对每个数据库分配人手
- 跨库事务处理复杂, 数据库操作不在一个数据库进行, 需要考虑多个数据库之间的沟通以及多次验证保证事务一致性, 这将引入更多的性能和人力开销
- 查询复杂度更高, 跨数据库查询再合并关联数据, 性能会大大提高


## 规模判断

- 数据量达到数百万, 并且查询速度开始明显下降
- 超高并发量导致数据库服务器性能压力

# References
