
status: #adult 

tags: [[mysql]], [[database design]], [[Ruoyi-Vue-Plus]]


> 大抵的结构若依框架已经设计好, 接下来只需要明确我们需要的实体, 实体之间的关系, 还有相应的属性字段

> 但是有一些公共规范需要遵守, 这将有利于后续开发

> 以下总结的内容主要来自 **java开发手册** 和 **若依数据库中的规律性内容**

> **个人总结, 仅供参考, 如有纰漏请联系我尽快修改**

### alibaba编程规范中关于设计数据库表的规约: 

![[数据库建表规约1.png]]

![[数据库建表规约2.png]]

### 查看若依数据库中业务相关表

部分表展示: 

![[若依数据库中部分表展示.png]]

详细的sys_user表展示:

![[详细的user表设计.png]]
### 对规律的个人总结: 

1. **首先一定遵守命名规范!**

1. id字段的数据类型: **bigInt(对应Java中的long) **,可以看到表中没有设置id自动递增, 而是使用较长的[[雪花ID]], 普通的int类型位数无法完整存储

1. 关于数据长度: 足够即可, 参照若依数据库表设计

1. 反复出现的字段:

    - **状态字段**: 使用长度为1的char类型, 用一位整数表示, 优化查询效率, 显著节省存储空间

    - **逻辑删除字段**: 所有表都使用逻辑删除, 保证数据安全和查询效率

    - **创建时间**

    - **创建者: **对应用户ID

    - **创建部门: **对应部门ID

    - **更新时间**

    - **更新者: **对应用户ID

    - **备注**

1. 关于租户ID: 

    - 所有的租户信息都在一张表里(即不同的学校共用相同的表), 所以任何核心业务表都需要进行隔离

    - 一些公共配置可以不加租户ID, 如: 

        - 系统配置表

        - 公共字典表

        - 省市区等基础数据表

        - 系统日志表

1. 关于多对多关系:

    - 使用记录ID信息的关系表进行对应(如上图sys_user_role表)

    - 使用关系表表示多对多关系能很大程度上减少数据的冗余, 维护实体表的整洁, 同时也便于维护

