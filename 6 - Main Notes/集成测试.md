2025-01-07    18:36

status: #adult 
tags: [[软件测试层次]]


# 集成测试

## 看一看单元之间组合的结果

集成测试是在[[单元测试]]基础上, 把所有已经通过单元测试的模块组合成子系统, 确保这些小单元组合起来也能正常协作

## 集成测试的内容

- 在各个单元之间传递数据时这些数据会不会丢失
- 检查这些小功能能否组合达成预期的大功能
- 检查某个模块会不会对其他模块造成不利影响
- 检查全局数据结构是否正确, 以及数据结构传递时是否失真
- 单个模块的误差累计起来是否会被放大到不可接受

## 四种集成策略

### 大爆炸集成

把所有通过单元测试的小模块全部组装到被测系统之中, 不考虑任何风险

测试规模较小, 但是问题排查会很困难

只适用于稳定版本或者小范围内使用

### 自顶向下集成

从上层模块开始向下组装模块, 用[[桩模块(Stubs)]]代替下层模块

有深度和广度两种组装方式, 参考树的遍历

每增加一个模块就要进行测试, 还需要一些回归测试确保新引入的模块没有引入错误, 直到所有模块都集成完毕


- 从顶层模块开始测试, 有助于验证系统主要功能, 避免严重缺陷
- 单个测试用例包含多个模块
- 按照递增方式展开测试, 模块一个一个加入, 便于定位缺陷
- 但是需要大量的桩模块作为底层模块
- 早期难以发现底层模块的缺陷, 随着测试的进行, 发现底层模块缺陷时修复代价高昂
- 不利于并行展开测试

### 自底向上集成

1. 把底层模块组合成实现特定一功能的功能组
2. 编写[[驱动模块(Drivers)]]调用组合好的模块和协调输入输出
3. 对功能组进行测试
4. 向上组合更大粒度的功能组
5. 重复执行直到所有模块都集成在系统中

- 有助于早期发现底层模块中的缺陷
- 驱动模块的设计也是对上册模块的规范和约束
- 单个测试用例能包含多个模块
- 多个集成测试能够并行展开

- 需要维护大量的驱动模块
- 难以早期发现上层模块中的逻辑控制错误
- 最后才能见到系统框架, 难以发现时序或者竞争问题

### 混合集成(三明治集成)

自顶向下和自底向上同时展开, 在子树上进行大爆炸集成

- 确定中间层
- 上层自顶而下, 下层自底而上
- 汇集到中间层进行整体大爆炸测试




# References
