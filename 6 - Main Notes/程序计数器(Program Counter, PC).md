2025-01-04    17:34

status: #adult 
tags: [[Computer Science]]


# 程序计数器(Program Counter, PC)

## CPU的特殊寄存器
和一般寄存器中保存数据不同, PC里面保存的是下一条即将要执行的指令的内存地址
就像是指向程序指令的指针一样(在x86架构中直接被称为指令指针Instruction Pointer)

## 为指令安排顺序的工作

1. **指令的获取**
	在每个指令周期的开始, 在PC中存储将要执行的指令的地址
2. **执行流程**
	1. 指令被获取后, PC自动递增, 以指向下一条指令
	2. 如果当前指令是分支指令(如跳转, 分支或者中断), PC会更新成目标指令的地址

## PC如何确定指令的顺序执行

### 一条接一条的指令排布
在一个程序中, 指令存放一般是连续的, 一条接一条的
而且每条指令通常占据一定的长度([[RISC架构]]中的每条指令长度是固定的, 在CISC架构中指令长度是可变的, 执行指令前会指明指令长度)

所以在执行时PC只要按照指令单位长度递增就能拿到下一条指令

### 指令周期

指令执行的周期: 
1. **取指令(Fetch)**: CPU使用 PC 从当前地址中取出指令
2. **译码(Decode)**: CPU将取出的指令翻译成操作
3. **执行(Execute)**: 执行操作
4. **更新PC**: PC更新, 以执行下一条指令

# References

[[什么是程序计数器(PC)]]

[[PC如何指向下一条指令]]
