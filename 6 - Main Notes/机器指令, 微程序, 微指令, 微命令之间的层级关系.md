2025-03-21    13:57

status: #adult 
tags: [[计算机指令]]


# 机器指令, 微程序, 微指令, 微命令之间的层级关系

微程序、微指令和微命令是计算机组成原理中与**微程序控制器**相关的核心概念，它们描述了计算机指令执行的底层控制方式。

**1. 微程序 (Microprogram):**

- **定义:** 一个**机器指令**的功能是由一个或多个更低级的指令序列来实现的，这个指令序列就被称为**微程序**。
- **作用:** 微程序实际上是用一种更简单的语言（微指令）编写的程序，它存储在计算机的**控制存储器 (Control Store)** 中。当一条机器指令被取出并译码后，控制单元会根据该机器指令的类型，从控制存储器中找到对应的微程序并执行。
- **类比:** 可以将微程序看作是实现一个复杂任务（机器指令）的详细步骤列表。

**2. 微指令 (Microinstruction):**

- **定义:** **微程序**是由一系列更基本的控制指令组成的，这些基本的控制指令就称为**微指令**。
- **作用:** 每条微指令通常包含多个**微命令**字段，这些字段用于控制计算机硬件的各个部分，例如：
    - 控制数据在寄存器之间的传输。
    - 控制算术逻辑单元 (ALU) 执行特定的操作。
    - 控制内存的读写操作。
    - 控制程序的跳转。
- **特点:** 微指令的长度通常较长，因为它需要包含多个控制信号。

**3. 微命令 (Microcommand):**

- **定义:** **微命令**是控制计算机硬件执行最基本操作的控制信号。
- **作用:** 每个微命令直接控制计算机中的一个或多个微操作。例如，一个微命令可能打开某个数据通路上的一个门，允许数据从一个寄存器流向另一个寄存器；另一个微命令可能触发 ALU 执行加法运算。
- **层级:** 微命令是最低级的控制信号。

**它们之间的联系:**

这三个概念之间存在着明显的层次关系，就像一个任务被分解成步骤，而每个步骤又包含更小的动作一样：

1. **机器指令 (Machine Instruction):** 这是程序员看到的最高级别的指令，例如 "ADD A, B"。
2. **微程序 (Microprogram):** 为了执行 "ADD A, B" 这条机器指令，控制单元会从控制存储器中取出对应的微程序。
3. **微指令 (Microinstruction):** 这个微程序由一系列的微指令组成，每一条微指令完成一个或多个微操作的步骤。例如，执行 "ADD A, B" 可能需要以下几个微指令：
    - 将寄存器 A 的内容加载到 ALU 的一个输入端。
    - 将寄存器 B 的内容加载到 ALU 的另一个输入端。
    - 控制 ALU 执行加法操作。
    - 将 ALU 的结果存储到目标寄存器。
4. **微命令 (Microcommand):** 每条微指令都包含若干个微命令，这些微命令直接控制硬件的具体动作。例如，"将寄存器 A 的内容加载到 ALU 的一个输入端" 这个步骤可能包含以下微命令：
    - 激活寄存器 A 的输出控制信号。
    - 激活 ALU 输入选择器的相应控制信号，选择来自寄存器 A 的数据。

**总结:**

- **微程序**是用微指令编写的，用于实现一条机器指令的功能。
- **微指令**是微程序中的基本指令，它由多个微命令组成。
- **微命令**是最低级的控制信号，直接控制计算机硬件执行最基本的操作。

总的来说，微程序控制器通过执行存储在控制存储器中的微程序，来控制计算机中各种操作的执行，从而实现了机器指令的功能。这种方式使得计算机的控制逻辑更加规整和易于设计、修改和扩展。


# References
